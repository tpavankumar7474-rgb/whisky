<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Manual Boxplot with Mean</title>
  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
</head>
<body>
  <div id="chart" style="width:700px; height:450px;"></div>
  <script>
    var chart = echarts.init(document.getElementById('chart'));

    // Manual data: each array is [min, Q1, median, Q3, max]
    var boxplotData = [
      [10, 20, 30, 40, 50],   // Location 1
      [15, 25, 35, 45, 60],   // Location 2
      [20, 30, 40, 50, 70]    // Location 3
    ];

    // Corresponding mean values for each dataset
    var meanData = [
      [0, 32],  // x = 0 (location index), y = mean
      [1, 38],
      [2, 44]
    ];

    // X axis labels - can be locations or anything
    var locations = ['Location A', 'Location B', 'Location C'];

    // Find max value to set y axis max scale
    var maxVal = Math.max(...boxplotData.flat());

    var option = {
      title: {
        text: 'Manual Boxplot with Mean Points',
        left: 'center'
      },
      tooltip: {
        formatter: function (param) {
          if (param.seriesType === 'boxplot') {
            return [
              'Location: ' + param.name,
              'Min: ' + param.data[0],
              'Q1: ' + param.data[1],
              'Median: ' + param.data[2],
              'Q3: ' + param.data[3],
              'Max: ' + param.data[4]
            ].join('<br/>');
          } else if (param.seriesType === 'scatter') {
            return 'Mean: ' + param.data[1];
          }
          return '';
        }
      },
      xAxis: {
        type: 'category',
        data: locations,
        name: 'Locations',
        splitArea: { show: false }
      },
      yAxis: {
        type: 'value',
        name: 'Value',
        min: 0,
        max: Math.ceil(maxVal / 10) * 10 + 10 // Round up max + 10 for padding
      },
      series: [
        {
          name: 'Boxplot',
          type: 'boxplot',
          data: boxplotData
        },
        {
          name: 'Mean',
          type: 'scatter',
          data: meanData,
          symbolSize: 10,
          itemStyle: {
            color: 'red'
          }
        }
      ]
    };

    chart.setOption(option);
  </script>
</body>
</html>
